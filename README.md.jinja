# {{ project_name }}

## Description
{{ project_description }}
This project uses Python {{ python_version }}.

## Setup

### Pre-commit hooks
```bash
uv tool run pre-commit install
```

### Install dependencies
These are common dependencies I often use in my projects. 
Adjust according to your needs.

```bash
uv add "fastapi[standard]" \
    langgraph-checkpoint-postgres \
    langgraph \
    langsmith \
    loguru \
    "psycopg[binary,pool]" \
    pydantic-settings
uv add ipykernel ipywidgets --group dev
uv add pytest pytest-cov pytest-asyncio --group test
uv add mypy ruff --group lint
```

## Usage
- Setup the database using the script `scripts/initialize_db.py`.
- Run the FastAPI application using uvicorn.

## Deployment

### CD configuration
The template includes a basic CD configuration for Google Cloud Run 
deployment. To use it:

1. Remove the `template` suffix from `cd.yaml.template` in the 
   `.github/workflows` directory.
2. Configure the appropriate secrets in your GitHub repository.
3. Update the secrets in the YAML file.

## Project Structure

```shell
â”œâ”€â”€ ğŸ“¦ Dockerfile                   # Container configuration
â”œâ”€â”€ ğŸ› ï¸ Makefile                     # Build, deployment and other commands
â”œâ”€â”€ ğŸ’¬ prompts/                     # LLM prompts - Put all your prompts here
â”‚   â””â”€â”€ system.jinja2               # Template for system messages
â”œâ”€â”€ ğŸ“‹ pyproject.toml               # Project dependencies and configuration
â”œâ”€â”€ ğŸ—„ï¸ queries/                     # Database queries
â”‚   â””â”€â”€ ddl/                        # Data definition language files
â”‚       â”œâ”€â”€ create_checkpoint_index.sql  # Index for LangGraph checkpoints
â”‚       â””â”€â”€ create_schema.sql       # Database schema creation
â”œâ”€â”€ ğŸ“– README.md                    # Project documentation
â”œâ”€â”€ ğŸ”§ scripts/                     # Utility scripts
â”‚   â””â”€â”€ initialize_db.py            # Database initialization script
â”œâ”€â”€ ğŸš€ server.py                    # FastAPI application entry point
â”œâ”€â”€ ğŸ“ src/                         # Source code directory
â”‚   â””â”€â”€ app/                        # Main application package
â”‚       â”œâ”€â”€ ğŸŒ api/                 # API layer
â”‚       â”‚   â”œâ”€â”€ dependencies.py     # FastAPI dependencies
â”‚       â”‚   â”œâ”€â”€ lifespan.py        # Application lifecycle management
â”‚       â”‚   â””â”€â”€ routers/           # API route definitions
â”‚       â”‚       â”œâ”€â”€ chat.py        # Chat endpoints
â”‚       â”‚       â””â”€â”€ health.py      # Health check endpoints
â”‚       â”œâ”€â”€ âš™ï¸ config/              # Configuration management
â”‚       â”‚   â”œâ”€â”€ database.py        # Database configuration
â”‚       â”‚   â”œâ”€â”€ paths.py           # File paths configuration
â”‚       â”‚   â””â”€â”€ settings.py        # Application settings
â”‚       â”œâ”€â”€ ğŸ—ƒï¸ db/                  # Database operations
â”‚       â”‚   â”œâ”€â”€ crud_operations.py # Database CRUD operations
â”‚       â”‚   â”œâ”€â”€ pool.py            # Connection pool management
â”‚       â”‚   â””â”€â”€ query_store.py     # SQL query management
â”‚       â”œâ”€â”€ ğŸ§  graphs/              # LangGraph definitions
â”‚       â”‚   â”œâ”€â”€ base/              # Base graph components
â”‚       â”‚   â”‚   â”œâ”€â”€ builder.py     # Graph builder utilities
â”‚       â”‚   â”‚   â””â”€â”€ node.py        # Base node implementation
â”‚       â”‚   â””â”€â”€ chat/              # Chat graph implementation
â”‚       â”‚       â”œâ”€â”€ edges.py       # Graph edge definitions
â”‚       â”‚       â”œâ”€â”€ graph.py       # Main chat graph
â”‚       â”‚       â”œâ”€â”€ state.py       # Graph state management
â”‚       â”‚       â””â”€â”€ nodes/         # Graph node implementations
â”‚       â”‚           â”œâ”€â”€ llm.py     # LLM node
â”‚       â”‚           â””â”€â”€ tool.py    # Tool execution node
â”‚       â”œâ”€â”€ ğŸ“Š models/              # Data models
â”‚       â”‚   â””â”€â”€ api/               # API request/response models
â”‚       â”‚       â”œâ”€â”€ requests/      # Request schemas
â”‚       â”‚       â”‚   â””â”€â”€ chat.py    # Chat request models
â”‚       â”‚       â””â”€â”€ responses/     # Response schemas
â”‚       â”‚           â””â”€â”€ chat.py    # Chat response models
â”‚       â”œâ”€â”€ ğŸ”¨ tools/               # LLM tools
â”‚       â”‚   â”œâ”€â”€ base.py            # Base tool implementation
â”‚       â”‚   â”œâ”€â”€ handler.py         # Tool execution handler
â”‚       â”‚   â””â”€â”€ placeholder.py     # Example tool implementation
â”‚       â””â”€â”€ ğŸ”§ utils/               # Utility functions
â”‚           â””â”€â”€ prompts_utils.py   # Prompt processing utilities
â””â”€â”€ ğŸ§ª tests/                      # Test files
```